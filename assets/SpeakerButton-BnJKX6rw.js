import{r as i,j as s}from"./index-Cv0FE6Ar.js";const f=["male","mÃ¤nnlich","stefan","hans","michael","klaus"],S=({text:p})=>{const[n,t]=i.useState(!1),[r,d]=i.useState(null),w=i.useRef(null);i.useEffect(()=>{const e=()=>{const o=window.speechSynthesis.getVoices().filter(a=>a.lang.startsWith("de"));if(o.length>0){const h=o.find(c=>f.some(v=>c.name.toLowerCase().includes(v)))||o.find(c=>c.name.includes("Microsoft")||c.name.includes("Google"))||o[0];d(h),console.log("Selected German voice:",h.name)}};return e(),window.speechSynthesis.onvoiceschanged=e,()=>{window.speechSynthesis.cancel(),window.speechSynthesis.onvoiceschanged=null}},[]);const u=()=>{if(!window.speechSynthesis){console.error("Speech synthesis not supported");return}window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(p);e.lang="de-DE",e.rate=1.1,e.pitch=.6,e.volume=1,r&&(e.voice=r),e.onstart=()=>t(!0),e.onend=()=>t(!1),e.onerror=l=>{console.error("Speech synthesis error:",l),t(!1)},w.current=e,window.speechSynthesis.speak(e)},m=()=>{window.speechSynthesis.cancel(),t(!1)};return s.jsx("div",{className:"speaker-controls",children:s.jsx("button",{className:`speaker-button ${n?"playing":""}`,onClick:n?m:u,"aria-label":n?"Stoppe Vorlesen":"Text vorlesen",title:n?"Stoppe Vorlesen":"Text vorlesen",children:n?s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M6 4h4v16H6zm8 0h4v16h-4z"})}):s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})})})};export{S as default};
